{"remainingRequest":"/home/martin/Documents/Github/School/162/webdevfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/martin/Documents/Github/School/162/webdevfinal/src/components/GamePre.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/martin/Documents/Github/School/162/webdevfinal/src/components/GamePre.vue","mtime":1591512566515},{"path":"/home/martin/Documents/Github/School/162/webdevfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/martin/Documents/Github/School/162/webdevfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/martin/Documents/Github/School/162/webdevfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/martin/Documents/Github/School/162/webdevfinal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWVHb29nbGVBdXRvY29tcGxldGUgZnJvbSAndnVlLWdvb2dsZS1hdXRvY29tcGxldGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0dhbWVQcmUnLAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZUdvb2dsZUF1dG9jb21wbGV0ZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFRleHQ6ICIiLAogICAgICBzZWFyY2hSYW5nZTogMTAwMCwKICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgam9pbkNvZGU6ICIiLAogICAgICBpc0pvaW5pbmc6IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdyYWJJbmZvKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hUZXh0ICE9ICIiKSB7CiAgICAgICAgYXhpb3MuZ2V0KAogICAgICAgICAgImh0dHBzOi8vY29ycy1hbnl3aGVyZS5oZXJva3VhcHAuY29tL2h0dHBzOi8vYXBpLnllbHAuY29tL3YzL2J1c2luZXNzZXMvc2VhcmNoPyIgKwogICAgICAgICAgInRlcm09IiArIC8vVE9ETzogd2h5IG5vdCBhZGQgdG8gcHJldmlvdXMgbGluZQogICAgICAgICAgdGhpcy5zZWFyY2hUZXh0ICsKICAgICAgICAgICImbGF0aXR1ZGU9IiArCiAgICAgICAgICB0aGlzLmFkZHJlc3MubGF0aXR1ZGUgKwogICAgICAgICAgIiZsb25naXR1ZGU9IiArCiAgICAgICAgICB0aGlzLmFkZHJlc3MubG9uZ2l0dWRlICsKICAgICAgICAgICImcmFkaXVzPSIgKwogICAgICAgICAgdGhpcy5zZWFyY2hSYW5nZSArCiAgICAgICAgICAiJmxpbWl0PTEwIiwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgYkFraVZseHRCVml2cHB4a3lnRXZjeF9aa2RrRElocnRMRmZrSldSdjdIV0c0NVluX2dud2N2dHVNZ2FDREhqdm5YTHEydFl5dUtwd3lvZ2NZZzRwVi0wSEJ2dmYtNDFKSmlnbmFVaGM5R2h5S016eDN2OGtBNUZoSE1fT1huWXgiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwID0+IHsgLy9UT0RPOiB3b24ndCByZXMgYWx3YXlzIGJlIHRydWUgaWYgdSBoYXZlIC50aGVuPwogICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgIHRoaXMuY3JlYXRlR2FtZShyZXNwLmRhdGEuYnVzaW5lc3Nlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJTZWFyY2ggaXMgZW1wdHkiKTsKICAgICAgfQogICAgfSwKICAgIGdldEFkZHJlc3NEYXRhOiBmdW5jdGlvbiAoYWRkcmVzc0RhdGEpIHsgLy9UT0RPOiBjYW4gd2UgcmVtb3ZlIHRoaXM/CiAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3NEYXRhOwogICAgfSwKICAgIGNyZWF0ZUdhbWUobGlzdCkgewogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAiaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly90ZXN0ZWQtcXVpbGxlZC1yZWdub3NhdXJ1cy5nbGl0Y2gubWUvbmV3R2FtZSIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgZGF0YTogbGlzdAogICAgICB9KQogICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICB0aGlzLmpvaW5Db2RlID0gcmVzcC5kYXRhOwogICAgICAgIHRoaXMuam9pbkdhbWUoKTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgam9pbkdhbWUoKSB7CiAgICAgCiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrZWQnLCB0aGlzLmpvaW5Db2RlKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["GamePre.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"GamePre.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"gamePre\" class=\"card-sm shadow-l\">\n    <div class=\"joinGame\">\n      <h2> Enter Join Code</h2>\n      <input\n          placeholder=\"Enter Code\" \n          v-model=\"joinCode\"\n      >\n      <button @click=\"joinGame(joinCode)\">Join Game</button>\n    </div>\n    <h1>OR</h1>\n\n    <div class=\"searchBar\">\n      <h2>Create New Game </h2>\n      <input\n        v-model=\"searchText\"\n        type=\"text\"\n        id=\"input-search\"\n        placeholder=\"Terms\"\n      />\n      <vue-google-autocomplete\n        v-on:placechanged=\"getAddressData\"\n        ref=\"address\"\n        id=\"map\"\n        classname=\"form-control\"\n        placeholder=\"Location\"\n        country=\"us\"\n        types= \"(cities)\"\n      >\n      </vue-google-autocomplete>\n      <label for=\"input-range\">Distance: {{this.searchRange}} miles</label>\n      <input\n        v-model=\"searchRange\"\n        type=\"range\"\n        max=\"1000\"\n        min=\"100\"\n        step=\"50\"\n        id=\"input-range\"\n        placeholder=\"Radius\"\n      />\n    <button variant=\"primary\" @click=\"grabInfo()\">Go!</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport VueGoogleAutocomplete from 'vue-google-autocomplete';\nexport default {\n  name: 'GamePre',\n  components: {\n    VueGoogleAutocomplete\n  },\n  data() {\n    return {\n      searchText: \"\",\n      searchRange: 1000,\n      address: null,\n      joinCode: \"\",\n      isJoining: false,\n    };\n  },\n  methods: {\n    grabInfo() {\n      if (this.searchText != \"\") {\n        axios.get(\n          \"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?\" +\n          \"term=\" + //TODO: why not add to previous line\n          this.searchText +\n          \"&latitude=\" +\n          this.address.latitude +\n          \"&longitude=\" +\n          this.address.longitude +\n          \"&radius=\" +\n          this.searchRange +\n          \"&limit=10\",\n          {\n            headers: {\n              Authorization: \"Bearer bAkiVlxtBVivppxkygEvcx_ZkdkDIhrtLFfkJWRv7HWG45Yn_gnwcvtuMgaCDHjvnXLq2tYyuKpwyogcYg4pV-0HBvvf-41JJignaUhc9GhyKMzx3v8kA5FhHM_OXnYx\"\n            }\n          })\n          .then(resp => { //TODO: won't res always be true if u have .then?\n            if (resp) {\n              this.createGame(resp.data.businesses);\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        alert(\"Search is empty\");\n      }\n    },\n    getAddressData: function (addressData) { //TODO: can we remove this?\n      this.address = addressData;\n    },\n    createGame(list) {\n      axios({\n        url: \"https://cors-anywhere.herokuapp.com/https://tested-quilled-regnosaurus.glitch.me/newGame\",\n        method: \"post\",\n        data: list\n      })\n      .then(resp => {\n        this.joinCode = resp.data;\n        this.joinGame();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    },\n    joinGame() {\n     \n      this.$emit('clicked', this.joinCode);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n#gamePre {\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.searchBar {\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n}\n\n.gameJoin {\n    display: flex;\n    justify-content: center;\n    padding: 20px;\n\n}\n\n</style>"]}]}